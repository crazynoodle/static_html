<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>二手商品交易平台项目</title>
<style>
/* CSS from https://gist.github.com/andyferra/2554919 */

body {
font-family: Helvetica, arial, sans-serif;
font-size: 14px;
line-height: 1.6;
padding-top: 10px;
padding-bottom: 10px;
background-color: white;
padding: 30px; }
 
body > *:first-child {
margin-top: 0 !important; }
body > *:last-child {
margin-bottom: 0 !important; }
 
a {
color: #4183C4; }
a.absent {
color: #cc0000; }
a.anchor {
display: block;
padding-left: 30px;
margin-left: -30px;
cursor: pointer;
position: absolute;
top: 0;
left: 0;
bottom: 0; }
 
h1, h2, h3, h4, h5, h6 {
margin: 20px 0 10px;
padding: 0;
font-weight: bold;
-webkit-font-smoothing: antialiased;
cursor: text;
position: relative; }
 
h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor {
background: url("../../images/modules/styleguide/para.png") no-repeat 10px center;
text-decoration: none; }
 
h1 tt, h1 code {
font-size: inherit; }
 
h2 tt, h2 code {
font-size: inherit; }
 
h3 tt, h3 code {
font-size: inherit; }
 
h4 tt, h4 code {
font-size: inherit; }
 
h5 tt, h5 code {
font-size: inherit; }
 
h6 tt, h6 code {
font-size: inherit; }
 
h1 {
font-size: 28px;
color: black; }
 
h2 {
font-size: 24px;
border-bottom: 1px solid #cccccc;
color: black; }
 
h3 {
font-size: 18px; }
 
h4 {
font-size: 16px; }
 
h5 {
font-size: 14px; }
 
h6 {
color: #777777;
font-size: 14px; }
 
p, blockquote, ul, ol, dl, li, table, pre {
margin: 15px 0; }
 
hr {
background: transparent url("../../images/modules/pulls/dirty-shade.png") repeat-x 0 0;
border: 0 none;
color: #cccccc;
height: 4px;
padding: 0; }
 
body > h2:first-child {
margin-top: 0;
padding-top: 0; }
body > h1:first-child {
margin-top: 0;
padding-top: 0; }
body > h1:first-child + h2 {
margin-top: 0;
padding-top: 0; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child {
margin-top: 0;
padding-top: 0; }
 
a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
margin-top: 0;
padding-top: 0; }
 
h1 p, h2 p, h3 p, h4 p, h5 p, h6 p {
margin-top: 0; }
 
li p.first {
display: inline-block; }
 
ul, ol {
padding-left: 30px; }
 
ul :first-child, ol :first-child {
margin-top: 0; }
 
ul :last-child, ol :last-child {
margin-bottom: 0; }
 
dl {
padding: 0; }
dl dt {
font-size: 14px;
font-weight: bold;
font-style: italic;
padding: 0;
margin: 15px 0 5px; }
dl dt:first-child {
padding: 0; }
dl dt > :first-child {
margin-top: 0; }
dl dt > :last-child {
margin-bottom: 0; }
dl dd {
margin: 0 0 15px;
padding: 0 15px; }
dl dd > :first-child {
margin-top: 0; }
dl dd > :last-child {
margin-bottom: 0; }
 
blockquote {
border-left: 4px solid #dddddd;
padding: 0 15px;
color: #777777; }
blockquote > :first-child {
margin-top: 0; }
blockquote > :last-child {
margin-bottom: 0; }
 
table {
padding: 0; }
table tr {
border-top: 1px solid #cccccc;
background-color: white;
margin: 0;
padding: 0; }
table tr:nth-child(2n) {
background-color: #f8f8f8; }
table tr th {
font-weight: bold;
border: 1px solid #cccccc;
text-align: left;
margin: 0;
padding: 6px 13px; }
table tr td {
border: 1px solid #cccccc;
text-align: left;
margin: 0;
padding: 6px 13px; }
table tr th :first-child, table tr td :first-child {
margin-top: 0; }
table tr th :last-child, table tr td :last-child {
margin-bottom: 0; }
 
img {
max-width: 100%; }
 
span.frame {
display: block;
overflow: hidden; }
span.frame > span {
border: 1px solid #dddddd;
display: block;
float: left;
overflow: hidden;
margin: 13px 0 0;
padding: 7px;
width: auto; }
span.frame span img {
display: block;
float: left; }
span.frame span span {
clear: both;
color: #333333;
display: block;
padding: 5px 0 0; }
span.align-center {
display: block;
overflow: hidden;
clear: both; }
span.align-center > span {
display: block;
overflow: hidden;
margin: 13px auto 0;
text-align: center; }
span.align-center span img {
margin: 0 auto;
text-align: center; }
span.align-right {
display: block;
overflow: hidden;
clear: both; }
span.align-right > span {
display: block;
overflow: hidden;
margin: 13px 0 0;
text-align: right; }
span.align-right span img {
margin: 0;
text-align: right; }
span.float-left {
display: block;
margin-right: 13px;
overflow: hidden;
float: left; }
span.float-left span {
margin: 13px 0 0; }
span.float-right {
display: block;
margin-left: 13px;
overflow: hidden;
float: right; }
span.float-right > span {
display: block;
overflow: hidden;
margin: 13px auto 0;
text-align: right; }
 
code, tt {
margin: 0 2px;
padding: 0 5px;
white-space: nowrap;
border: 1px solid #eaeaea;
background-color: #f8f8f8;
border-radius: 3px; }
 
pre code {
margin: 0;
padding: 0;
white-space: pre;
border: none;
background: transparent; }
 
.highlight pre {
background-color: #f8f8f8;
border: 1px solid #cccccc;
font-size: 13px;
line-height: 19px;
overflow: auto;
padding: 6px 10px;
border-radius: 3px; }
 
pre {
background-color: #f8f8f8;
border: 1px solid #cccccc;
font-size: 13px;
line-height: 19px;
overflow: auto;
padding: 6px 10px;
border-radius: 3px; }
pre code, pre tt {
background-color: transparent;
border: none; }
</style>
</head>
<body>
<h1 id="-">二手商品交易平台项目</h1>
<p>恭喜小伙伴们进入最后一个大副本——mini 项目。题目很简单啦，是一个二手商品交易平台。</p>
<p>大家的角色是后台开发，前端已经制作好页面模版，见 minimarket-resources 目录。</p>
<h2 id="-">功能需求</h2>
<ul>
<li>页面模版就是原型，请自行进行必要的修改。页面上的 “Tips, remove me!” 是备注，正式的页面请删掉哦。如何交互（如错误提示）请自行设计。</li>
<li>其中，支付系统是一个第三方平台，这个平台也是需要大家来实现的，独立于二手商品交易平台。（支付系统不提供模板，请自行制作，不过功能比较简单啦，呵呵）</li>
<li>对需求有任何疑问请联系导师。</li>
</ul>
<h2 id="-">主要功能模块</h2>
<table>
<thead>
<tr>
<th>功能模块</th>
<th>详细说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>注册</td>
<td>新用户可以自行注册，必要信息：<br>帐号、密码、姓名、生日、电话、邮编、地址</td>
</tr>
<tr>
<td>登录</td>
<td>通过注册是填写的帐号、密码登录</td>
</tr>
<tr>
<td>主页</td>
<td>包括注册、登录、我的商品等入口；<br>二手商品列表（显示商品名称、图片、tags、价格）；<br>只显示未被购买的商品；<br>支持搜索，通过：商品名称、tags、价格段；<br>商品可能很多，需要支持翻页</td>
</tr>
<tr>
<td>商品页</td>
<td>显示单个商品的详细信息的页面；<br>需要有购买按钮</td>
</tr>
<tr>
<td>我的商品</td>
<td>列出自己放出来卖的商品、自己购买了的商品；<br>如果自己的商品被人买了，要列出是谁买的，购买时间，买家联系方式等；<br>显示自己的帐户余额；<br>这里也可以添加新商品、删除商品、充值；</td>
</tr>
<tr>
<td>添加新商品</td>
<td>需要上传一张照片，填写名字、tags（若干个）、价格、商品详细描述</td>
</tr>
<tr>
<td>充值</td>
<td>需要调用支付系统的接口来实现充值, 请设计支付系统的相关接口 (注意:支付系统是额外的系统,例: 银联在线支付)<br><br>参考流程<br>1. 用户在商城&#39;点击充值&#39; --&gt; 商城生成页面, 页面包含&#39;支付按钮, 隐藏表单数据, 表单目标是到支付接口&#39;, 用户点击支付按钮后, 调用支付接口.<br>2. 用户在支付系统输入银行卡(这里假设输入10位数字即可)完成支付, 支付系统记录支付情况<br>3. 支付系统生成页面, 页面包含&#39;返回商城按钮, 隐藏表单数据, 表单目标是商城的回调接口&#39;, 用户点击回到商城页面把支付结果告诉商城.<br><br>考虑问题<br>支付系统和商城需要哪些接口完成上述流程? 接口参数应该有哪些?<br>如何防止重复支付?<br>安全性  (如何确保商城和支付系统之间的通信安全性, 例如, 如何防止伪造? )<br>支付状态一致性 (接口调用失败情况, eg. 超时, 用户一直不点击回到商城等)</td>
</tr>
<tr>
<td>删除商品</td>
<td>如果商品还没有被购买，可以删除</td>
</tr>
<tr>
<td>购买商品</td>
<td>基本要求：在商品页点“购买”按钮，如果余额足够，立即购买成功<br><br>如果你已经完成商城基本功能，可进一步将购买分为下单和支付两步：点击“购买”后，先生成一个订单，然后用户再对订单完成支付操作。同一时刻只能允许一个用户对一件商品下单，如果过了一段时间还不支付，系统应自动废除订单以便让其他用户购买。请自行考虑界面上如何展示。</td>
</tr>
</tbody>
</table>
<h2 id="-">其他要求</h2>
<ul>
<li>独立完成，不能交流设计和代码。</li>
<li>要求严谨的编码风格，简要的开发文档。</li>
<li>考虑安全性，防止可能存在的攻击手段。</li>
<li>要求自行实现 WSGI handler，不能使用第三方 web 框架（像 django、webapp2 等）；访问 MySQL 请使用 <a href="https://pypi.python.org/pypi/MySQL-python/">MySQLdb</a>；除此以外，可自行选择你认为需要的其他库。</li>
<li>前端页面的 js 库则不限制，可以选用自己熟悉的库实现交互效果。</li>
<li>自行实现图片管理，不要使用资源托管服务。</li>
<li>使用 git 管理代码，请在<a href="https://git-cbg.nie.netease.com/">藏宝阁 gitlab</a> 上新建个人私密项目，并向导师开放权限。</li>
<li>使用 nginx + uwsgi 部署你的系统。</li>
<li>自行部署 MySQL 服务器；如有必要，也可使用 redis、memcached 等其他服务。</li>
<li>如果你的项目需要后台定时任务，可使用 crontab 运行。</li>
</ul>
<h2 id="-">提交要求</h2>
<p>请注意提交时间要求，在规定的截止时间前通过邮件提交：</p>
<ul>
<li>命名标题：《应届新人mini项目 - [姓名]》</li>
<li>收件人与周报一致</li>
<li>邮件内容包括：<ul>
<li>git 仓库地址。请为请为最终代码打 tag，统一命名为 v1.0，考核统一使用这一份代码，最后演示的代码应与它一致。</li>
<li>交易平台和支付系统的 URL。</li>
<li>项目开发文档（如果包含在仓库中，请说明；如果不是，请传附件）。</li>
</ul>
</li>
</ul>
<p>截止时间后，不能再对代码进行修改。</p>
<p>That&#39;s all！大家可以开始啦，加油~~~</p>

</body>
</html>
